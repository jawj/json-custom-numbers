var p=class extends Error{},e,t,n,A,g,I={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},v=/[\n\t\u0000-\u001f]/,w=/true|false|null|-?(0|[1-9][0-9]*)([.][0-9]+)?([eE][-+]?[0-9]+)?/y;function a(r){throw new p(`${r}
At character ${e} in JSON: ${n}`)}function j(){let r;w.lastIndex=e-1,w.test(n)||a("Unexpected value");let{lastIndex:c}=w;if(t<"f"){let s=n.slice(e-1,c);r=g?g(s):+s}else r=t==="t"?!0:t==="f"?!1:null;return t=n.charAt(c),e=c+1,r}function y(){let r="";for(;;){let i=n.indexOf('"',e);if(i===-1&&a("Unterminated string"),i===e)return e=i+1,t=n.charAt(e++),r;let c=n.slice(e,i),s=c.indexOf("\\");if(s===-1)return!A&&v.test(c)&&a("Forbidden character in string"),r+=c,e=i+1,t=n.charAt(e++),r;{c=c.slice(0,s),!A&&v.test(c)&&a("Forbidden character in string"),r+=c,e+=s+1,t=n.charAt(e++);let o=I[t];if(o)r+=o;else if(t==="u"){let f=0;for(let h=0;h<4;h+=1){let u=parseInt(t=n.charAt(e++),16);isFinite(u)||a("Invalid \\uXXXX escape in string"),f=(f<<4)+u}r+=String.fromCharCode(f)}else a("Invalid escape in string: '\\"+t+"'")}}}function k(){let r=[],i=0;do t=n.charAt(e++);while(t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	"));if(t==="]")return t=n.charAt(e++),r;for(;t;){for(r[i++]=x();t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);if(t==="]")return t=n.charAt(e++),r;t!==","&&a("Expected ',', got '"+t+"' between array elements");do t=n.charAt(e++);while(t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	"))}a("Invalid array")}function m(){let r={};do t=n.charAt(e++);while(t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	"));if(t==="}")return t=n.charAt(e++),r;for(;t==='"';){let i=y();for(;t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);for(t!==":"&&a("Expected ':', got '"+t+"' between object key and value"),t=n.charAt(e++),r[i]=x();t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);if(t==="}")return t=n.charAt(e++),r;t!==","&&a("Expected ',', got '"+t+"' between items in object");do t=n.charAt(e++);while(t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	"))}a("Invalid object")}function x(){for(;t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);switch(t){case'"':return y();case"{":return m();case"[":return k();default:return j()}}function C(r,i,c,s){typeof r!="string"&&a("JSON source is not a string"),e=0,t=" ",n=r,A=s,g=c;let o=x();for(;t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);return t&&a("Unexpected data at end"),typeof i=="function"?function f(h,u){let l=h[u];if(l&&typeof l=="object"){for(let d in l)if(Object.prototype.hasOwnProperty.call(l,d)){let b=f(l,d);b!==void 0?l[d]=b:delete l[d]}}return i.call(h,u,l)}({"":o},""):o}export{p as JSONParseError,C as parse};
