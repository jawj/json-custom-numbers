var w=class extends Error{},e,t,n,A,p,b=/[\n\t\u0000-\u001f]/,d=/true|false|null|-?(0|[1-9][0-9]*)([.][0-9]+)?([eE][-+]?[0-9]+)?/y,I=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",'"',"","","","","","","","","","","","","/","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\","","","","","","\b","","","","\f","","","","","","","",`
`,"","","","\r","","	"];function a(r){throw new w(`${r}
At character ${e} in JSON: ${n}`)}function j(){let r;d.lastIndex=e-1,d.test(n)||a("Unexpected value");let{lastIndex:i}=d;if(t<"f"){let l=n.slice(e-1,i);r=p?p(l):+l}else r=t==="t"?!0:t==="f"?!1:null;return e=i,t=n.charAt(e++),r}function y(){let r="";for(;;){let i=n.indexOf('"',e);if(i===-1&&a("Unterminated string"),i===e)return e=i+1,t=n.charAt(e++),r;let l=n.slice(e,i),h=l.indexOf("\\");if(h===-1)return!A&&b.test(l)&&a("Invalid character in string"),r+=l,e=i+1,t=n.charAt(e++),r;{l=l.slice(0,h),!A&&b.test(l)&&a("Invalid character in string"),r+=l,e+=h+1;let c=n.charCodeAt(e++);if(c===117){let o=0;for(let f=12;f>=0;f-=4)c=n.charCodeAt(e++),o|=(c>47&&c<58?c-48:c>64&&c<71?c-55:c>96&&c<103?c-87:a("Invalid \\uXXXX escape in string"))<<f;r+=String.fromCharCode(o)}else{let o=I[c];o||a("Invalid escape in string"),r+=o}}}}function k(){let r=[],i=0;do t=n.charAt(e++);while(t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	"));if(t==="]")return t=n.charAt(e++),r;for(;t;){for(r[i++]=g();t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);if(t==="]")return t=n.charAt(e++),r;t!==","&&a("Expected ',', got '"+t+"' between array elements");do t=n.charAt(e++);while(t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	"))}a("Invalid array")}function C(){let r={};do t=n.charAt(e++);while(t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	"));if(t==="}")return t=n.charAt(e++),r;for(;t==='"';){let i=y();for(;t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);for(t!==":"&&a("Expected ':', got '"+t+"' between key and value in object"),t=n.charAt(e++),r[i]=g();t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);if(t==="}")return t=n.charAt(e++),r;t!==","&&a("Expected ',', got '"+t+"' between items in object");do t=n.charAt(e++);while(t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	"))}a("Invalid object")}function g(){for(;t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);switch(t){case'"':return y();case"{":return C();case"[":return k();default:return j()}}function m(r,i,l,h){typeof r!="string"&&a("JSON source is not a string"),e=0,t=" ",n=r,A=h,p=l;let c=g();for(;t<"!"&&(t===" "||t===`
`||t==="\r"||t==="	");)t=n.charAt(e++);return t&&a("Unexpected data at end"),typeof i=="function"?function o(f,x){let s=f[x];if(s&&typeof s=="object"){for(let u in s)if(Object.prototype.hasOwnProperty.call(s,u)){let v=o(s,u);v!==void 0?s[u]=v:delete s[u]}}return i.call(f,x,s)}({"":c},""):c}export{w as JSONParseError,m as parse};
