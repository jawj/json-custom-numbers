var c=0,e=" ",o="",S=!1,x,m={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},B=/[\n\t\u0000-\u001f]/,d=/(-)?(0|[1-9][0-9]*)([.][0-9]+)?([eE][-+]?[0-9]+)?/y,p=class extends Error{};function u(t){throw new p(`JSON parse error: ${t}
At character ${c} in JSON: ${o}`)}function l(){return e=o.charAt(c++),e}function n(t){return t&&t!==e&&u("Expected '"+t+"' instead of '"+e+"'"),e=o.charAt(c++),e}function O(){d.lastIndex=c-1,d.test(o)||u("Bad number");let{lastIndex:r}=d,i=o.slice(c-1,r),s=x?x(i):+i;return c=r,l(),s}function j(){let t="";if(e==='"')e:for(;l();){if(e==='"')return l(),t;if(e==="\\")if(l(),e==="u"){let r=0;for(let i=0;i<4;i+=1){let s=parseInt(l(),16);if(!isFinite(s))break e;r=r*16+s}t+=String.fromCharCode(r)}else if(m[e])t+=m[e];else break;else{let r=o.indexOf('"',c);if(r===-1)break;let i=o.slice(c-1,r),s=i.indexOf("\\");if(s===-1?c=r:(i=i.slice(0,s),c+=s-1),!S&&B.test(i))break;t+=i}}u("Bad string")}function f(){for(;e<"!"&&(e===" "||e===`
`||e==="\r"||e==="	");)l()}function C(){switch(e){case"t":return n("t"),n("r"),n("u"),n("e"),!0;case"f":return n("f"),n("a"),n("l"),n("s"),n("e"),!1;case"n":return n("n"),n("u"),n("l"),n("l"),null}u("Unexpected '"+e+"'")}function E(){let t=[],r=0;if(e==="["){if(n("["),f(),e==="]")return n("]"),t;for(;e;){if(t[r++]=b(),f(),e==="]")return n("]"),t;n(","),f()}}u("Bad array")}function I(){let t={};if(e==="{"){if(n("{"),f(),e==="}")return n("}"),t;for(;e;){let r=j();if(f(),n(":"),t[r]=b(),f(),e==="}")return n("}"),t;n(","),f()}}u("Bad object")}function b(){switch(f(),e){case"{":return I();case"[":return E();case'"':return j();case"-":return O();default:return e>="0"&&e<="9"?O():C()}}function A(t,r,i,s){typeof t!="string"&&u("JSON source is not a string"),c=0,e=" ",o=t,S=s,x=i;let w=b();return f(),e&&u("Syntax error"),typeof r=="function"?function v(g,k){let a=g[k];if(a&&typeof a=="object"){for(let h in a)if(Object.prototype.hasOwnProperty.call(a,h)){let y=v(a,h);y!==void 0?a[h]=y:delete a[h]}}return r.call(g,k,a)}({"":w},""):w}export{p as JSONParseError,A as default};
